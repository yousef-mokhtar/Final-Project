# ฺฉุงุณุชูู ุจฺฉโุงูุฏ (Customie Backend)

ุงู ูพุฑูฺูุ ุณุฑูุณ ุจฺฉโุงูุฏ ุจุฑุง ฺฉ ูพูุชูุฑู ูุฑูุดฺฏุงู ุงูุชุฑูุช ฺูุฏ-ูุฑูุดูุฏฺฏ ุงุณุช ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ Django ู Django REST Framework ุชูุณุนู ุงูุชู ุงุณุช.

## โจ ูฺฺฏโูุง

-   **ุงุญุฑุงุฒ ููุช ฺฉุงูู:** ุซุจุชโูุงูุ ูุฑูุฏ ุจุง ุชูฺฉู JWTุ ู ุชุงุฏ ููุช ุจุง ฺฉุฏ ฺฉุจุงุฑ ูุตุฑู (OTP).
-   **ูุนูุงุฑ ฺูุฏ-ูุฑูุดูุฏฺฏ:** ุงูฺฉุงู ุซุจุชโูุงู ฺฉุงุฑุจุฑุงู ุจู ุนููุงู ูุฑูุดูุฏู ู ูุฏุฑุช ูุฑูุดฺฏุงู ู ูุญุตููุงุช.
-   **ูุฏุฑุช ูุญุตููุงุช ู ุฏุณุชูโุจูุฏโูุง:** API ูุง ฺฉุงูู ุจุฑุง ูุฏุฑุช ฺฉุงุชุงููฺฏ ูุญุตููุงุช.
-   **ุณุจุฏ ุฎุฑุฏ ู ูพุฑุฏุงุฎุช:** ูุฑุขูุฏ ฺฉุงูู ุงุฒ ุงูุฒูุฏู ุจู ุณุจุฏ ุฎุฑุฏ ุชุง ูพุฑุฏุงุฎุช ูููู ุงุฒ ุทุฑู ุฏุฑฺฏุงู ุฒุฑูโูพุงู.
-   **ูพุฑุฏุงุฒุด ูุงููุฒูุงู:** ุงุณุชูุงุฏู ุงุฒ Celery ู Redis ุจุฑุง ุงุฑุณุงู ุงููโูุง OTP ู ุชุงุฏ ูพุฑุฏุงุฎุช.
-   **ูุณุชูุฏุงุช ุฎูุฏฺฉุงุฑ API:** ูุณุชูุฏุงุช ฺฉุงูู ู ุชุนุงูู ุจุง Swagger UI (ุงุฑุงุฆู ุดุฏู ุชูุณุท `drf-spectacular`).
-   **ฺฉุงูุชูุฑุณุงุฒ ฺฉุงูู:** ุฑุงูโุงูุฏุงุฒ ุขุณุงู ฺฉู ูพุฑูฺู ุจุง ฺฉ ุฏุณุชูุฑ ุงุฒ ุทุฑู Docker ู Docker Compose.

## ๐๏ธ ูพุดุชู ููุงูุฑ (Tech Stack)

-   **ุฒุจุงู:** Python 3.11+
-   **ูุฑูโูุฑฺฉ:** Django 5.2+
-   **API:** Django REST Framework
-   **ุฏุชุงุจุณ:** PostgreSQL
-   **ูพุฑุฏุงุฒุด ูพุณโุฒููู:** Celery
-   **ฺฉุด ู ุตู ูพุงู:** Redis
-   **ูุจ ุณุฑูุฑ (ุฏุฑ ุฏุงฺฉุฑ):** Gunicorn

---

## ๐ ุฑุงูโุงูุฏุงุฒ ุณุฑุน ูพุฑูฺู (ุจุง Docker)

ุงู ุฑูุด ูพุดููุงุฏ ุจุฑุง ุงุฌุฑุง ูพุฑูฺู ุงุณุช ู ุชูุงู ูุงุฒููุฏโูุง ุฑุง ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ูุฏุฑุช ูโฺฉูุฏ.

### ูพุดโูุงุฒูุง

-   [Docker](https://www.docker.com/products/docker-desktop/) ู Docker Compose ุจุงุฏ ุฑู ุณุณุชู ุดูุง ูุตุจ ู ุฏุฑ ุญุงู ุงุฌุฑุง ุจุงุดูุฏ.

### ูุฑุงุญู ุฑุงูโุงูุฏุงุฒ

1.  **ฺฉููู ฺฉุฑุฏู ูพุฑูฺู:**
    ```bash
    git clone <URL-ูพุฑูฺู-ุดูุง>
    cd <ูุงู-ูพูุดู-ูพุฑูฺู>
    ```

2.  **ุงุฌุงุฏ ูุงู ูุชุบุฑูุง ูุญุท (`.env`):**
    ฺฉ ูุงู ุจู ูุงู `.env` ุฏุฑ ุฑุดู ูพุฑูฺู ุจุณุงุฒุฏ ู ูุญุชูุง ุฒุฑ ุฑุง ุฏุฑ ุขู ฺฉูพ ฺฉูุฏ. **`SECRET_KEY` ุฑุง ุญุชูุงู ุจุง ฺฉ ููุฏุงุฑ ุงูู ู ุชุตุงุฏู ุฌุงฺฏุฒู ฺฉูุฏ.**

    ```env
    # ฺฉูุฏ ุงููุช ุฌูฺฏู - ฺฉ ููุฏุงุฑ ุชุตุงุฏู ู ุทููุงู ูุงุฑุฏ ฺฉูุฏ
    SECRET_KEY='django-insecure-your-very-secret-key-here'
    DEBUG=True

    # ุชูุธูุงุช ุฏุชุงุจุณ PostgreSQL ุจุฑุง Docker Compose
    # ุงู ููุงุฏุฑ ุจุง docker-compose.yml ููุงููฺฏ ุงุณุช
    DB_NAME=customie_db
    DB_USER=customie_user
    DB_PASS=customie_pass
    DB_HOST=db
    DB_PORT=5432

    # ุชูุธูุงุช Redis ุจุฑุง Docker Compose
    REDIS_HOST=redis
    REDIS_PORT=6379

    # ฺฉูุฏ API ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช ุฒุฑูโูพุงู (ุจุฑุง ุชุณุช ูโุชูุงูุฏ ุฎุงู ุจฺฏุฐุงุฑุฏ)
    ZARINPAL_MERCHANT_ID=
    ```

3.  **ุณุงุฎุช ู ุงุฌุฑุง ฺฉุงูุชูุฑูุง:**
    ุงู ุฏุณุชูุฑ ุชูุงู ุณุฑูุณโูุง ุฑุง ุฏุฑ ูพุณโุฒููู ุงุฌุฑุง ูโฺฉูุฏ.
    ```bash
    docker-compose up --build -d
    ```

4.  **ุงุฌุฑุง Migration ูุง:**
    ุจุฑุง ุณุงุฎุช ุฌุฏุงูู ุฏุฑ ุฏุชุงุจุณ PostgreSQLุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:
    ```bash
    docker-compose exec web python manage.py migrate
    ```

5.  **ุงุฌุงุฏ ฺฉุงุฑุจุฑ ุงุฏูู (Superuser):**
    ุจุฑุง ุฏุณุชุฑุณ ุจู ูพูู ุงุฏููุ ฺฉ ฺฉุงุฑุจุฑ ุงุฏูู ุจุณุงุฒุฏ:
    ```bash
    docker-compose exec web python manage.py createsuperuser
    ```

**ุชุจุฑฺฉ! ูพุฑูฺู ุดูุง ุจุง ููููุช ุฑุงูโุงูุฏุงุฒ ุดุฏ.**

-   **API ุณุฑูุฑ:** `http://localhost:8000/`
-   **ูพูู ุงุฏูู:** `http://localhost:8000/admin/`
-   **ูุณุชูุฏุงุช API (Swagger):** `http://localhost:8000/api/schema/swagger-ui/`

---

### ๐งช ุงุฌุฑุง ุชุณุชโูุง

ุจุฑุง ุงุฌุฑุง ูุฌููุนู ุชุณุชโูุง ูพุฑูฺู ุฏุฑ ูุญุท ุฏุงฺฉุฑุ ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ:
```bash
docker-compose exec web python manage.py test
```

### ุชููู ูพุฑูฺู

ุจุฑุง ูุชููู ฺฉุฑุฏู ุชูุงู ุณุฑูุณโูุงุ ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:
```bash
docker-compose down
```

### ุจุฑุง ุงุฑุงุฆู
ุจุฑุง ุดุฑูุน ูพุฑูฺู ุงู ุฏุณุชูุฑ ุฑู ูุงุฑุฏ ฺฉูุฏ 

docker compose name verbose : 'localhost://8000'