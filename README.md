# ฺฉุงุณุชูู ุจฺฉโุงูุฏ (Customie Backend)

ุงู ูพุฑูฺู ุจฺฉโุงูุฏ ฺฉ ูพูุชูุฑู ูุฑูุดฺฏุงู ุงูุชุฑูุช ฺูุฏ-ูุฑูุดูุฏฺฏ ุงุณุช ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ Django ู Django REST Framework ุชูุณุนู ุฏุงุฏู ุดุฏู ุงุณุช.

## โจ ูฺฺฏโูุง ุงุตู

-   **ุงุญุฑุงุฒ ููุช ฺฉุงูู:** ุซุจุชโูุงูุ ูุฑูุฏ ุจุง ุชูฺฉู JWT ู ุชุงุฏ ููุช ุจุง ฺฉุฏ ฺฉุจุงุฑ ูุตุฑู (OTP).
-   **ูุนูุงุฑ ฺูุฏ-ูุฑูุดูุฏฺฏ:** ฺฉุงุฑุจุฑุงู ูโุชูุงููุฏ ุจู ูุฑูุดูุฏู ุชุจุฏู ุดุฏู ู ูุฑูุดฺฏุงู ู ูุญุตููุงุช ุฎูุฏ ุฑุง ูุฏุฑุช ฺฉููุฏ.
-   **ูุฏุฑุช ูุญุตููุงุช ู ุฏุณุชูโุจูุฏโูุง:** ุณุงุฎุชุงุฑ ุฏุฑุฎุช ุจุฑุง ุฏุณุชูโุจูุฏโูุง ู ูุฏุฑุช ฺฉุงูู ูุญุตููุงุช.
-   **ุณุจุฏ ุฎุฑุฏ ู ูุฑุขูุฏ ูพุฑุฏุงุฎุช:** ูพุงุฏูโุณุงุฒ ฺฉุงูู ุณุจุฏ ุฎุฑุฏุ ูุฑุขูุฏ Checkout ู ุงุชุตุงู ุจู ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช ุฒุฑูโูพุงู.
-   **ุญุฐู ููุทู (Soft Delete):** ุงุณุชูุงุฏู ุงุฒ `is_deleted` ุฏุฑ ุณุฑุงุณุฑ ูพุฑูฺู ุจุฑุง ุญูุธ ฺฉูพุงุฑฺฺฏ ุฏุงุฏูโูุง.
-   **ูพุฑุฏุงุฒุด ูุงููุฒูุงู:** ุงุณุชูุงุฏู ุงุฒ Celery ู Redis ุจุฑุง ฺฉุงุฑูุง ูพุณโุฒููู ูุงููุฏ ุงุฑุณุงู OTP.
-   **ูุณุชูุฏุงุช API:** ุชููุฏ ุฎูุฏฺฉุงุฑ ูุณุชูุฏุงุช API ุจุง ุงุณุชูุงุฏู ุงุฒ `drf-spectacular` (Swagger).
-   **ุขูุงุฏู ุจุฑุง ุฏูพูู:** ูพุฑูฺู ุจู ุทูุฑ ฺฉุงูู ุจุง Docker ู Docker Compose ฺฉุงูุชูุฑุฒู ุดุฏู ุงุณุช.

## ๐๏ธ ูพุดุชู ููุงูุฑ (Tech Stack)

-   **ุฒุจุงู:** Python 3.11+
-   **ูุฑูโูุฑฺฉ:** Django 5.2+
-   **API:** Django REST Framework
-   **ุฏุชุงุจุณ:** PostgreSQL (ุฏุฑ ูุญุท Docker)
-   **ูพุฑุฏุงุฒุด ูพุณโุฒููู:** Celery
-   **ฺฉุด ู ุตู ูพุงู:** Redis
-   **ูุจ ุณุฑูุฑ:** Gunicorn
-   **ฺฉุงูุชูุฑุณุงุฒ:** Docker & Docker Compose

## ๐ ุฑุงูโุงูุฏุงุฒ ู ูุตุจ (ุจุง ุงุณุชูุงุฏู ุงุฒ Docker)

ุงู ุณุงุฏูโุชุฑู ู ูพุดููุงุฏโุชุฑู ุฑูุด ุจุฑุง ุงุฌุฑุง ูพุฑูฺู ุงุณุช.

### ูพุดโูุงุฒูุง

-   [Docker](https://www.docker.com/products/docker-desktop/) ุจุงุฏ ุฑู ุณุณุชู ุดูุง ูุตุจ ู ุฏุฑ ุญุงู ุงุฌุฑุง ุจุงุดุฏ.

### ูุฑุงุญู ุฑุงูโุงูุฏุงุฒ

1.  **ฺฉููู ฺฉุฑุฏู ูพุฑูฺู:**
    ```bash
    git clone <URL-ูพุฑูฺู-ุดูุง>
    cd <ูุงู-ูพูุดู-ูพุฑูฺู>
    ```

2.  **ุงุฌุงุฏ ูุงู ูุชุบุฑูุง ูุญุท (`.env`):**
    ฺฉ ูุงู ุจู ูุงู `.env` ุฏุฑ ุฑุดู ูพุฑูฺู ุจุณุงุฒุฏ ู ูุญุชูุง ุฒุฑ ุฑุง ุฏุฑ ุขู ฺฉูพ ฺฉูุฏ. **ุญุชูุงู `SECRET_KEY` ุฑุง ุจุง ฺฉ ููุฏุงุฑ ุงูู ู ุชุตุงุฏู ุฌุงฺฏุฒู ฺฉูุฏ.**

    ```env
    # ฺฉูุฏ ุงููุช ุฌูฺฏู (ฺฉ ููุฏุงุฑ ุชุตุงุฏู ู ุทููุงู ูุฑุงุฑ ุฏูุฏ)
    SECRET_KEY='your-very-secret-and-long-random-string-here'
    DEBUG=True

    # ุชูุธูุงุช ุฏุชุงุจุณ PostgreSQL (ุจุฑุง Docker Compose)
    DB_NAME=customie_db
    DB_USER=customie_user
    DB_PASS=customie_pass
    DB_HOST=db
    DB_PORT=5432

    # ุชูุธูุงุช Redis (ุจุฑุง Docker Compose)
    REDIS_HOST=redis
    REDIS_PORT=6379

    # ฺฉูุฏ API ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช ุฒุฑูโูพุงู (ุงุฎุชุงุฑ)
    ZARINPAL_MERCHANT_ID=your-zarinpal-merchant-id
    ```

3.  **ุณุงุฎุช ู ุงุฌุฑุง ฺฉุงูุชูุฑูุง:**
    ุฏุณุชูุฑ ุฒุฑ ุฑุง ุฏุฑ ุชุฑููุงู ุงุฌุฑุง ฺฉูุฏ. ุงู ุฏุณุชูุฑ ุชูุงู ุณุฑูุณโูุง (ูุจุ ุฏุชุงุจุณุ Redis ู Celery) ุฑุง ุจุฑ ุงุณุงุณ ูุงู `docker-compose.yml` ุจุงูุง ูโุขูุฑุฏ.
    ```bash
    docker-compose up --build
    ```
    ููฺฉู ุงุณุช ุงุฌุฑุง ุงู ุฏุณุชูุฑ ุจุฑุง ุจุงุฑ ุงูู ฺฉู ุทูู ุจฺฉุดุฏ.

4.  **ุงุฌุฑุง Migration ูุง:**
    ุฏุฑ ุญู ฺฉู ฺฉุงูุชูุฑูุง ุฏุฑ ุญุงู ุงุฌุฑุง ูุณุชูุฏุ ฺฉ **ุชุฑููุงู ุฌุฏุฏ** ุจุงุฒ ฺฉุฑุฏู ู ุฏุณุชูุฑ ุฒุฑ ุฑุง ุจุฑุง ุณุงุฎุช ุฌุฏุงูู ุฏุชุงุจุณ ุงุฌุฑุง ฺฉูุฏ:
    ```bash
    docker-compose exec web python manage.py migrate
    ```

5.  **ุงุฌุงุฏ ฺฉุงุฑุจุฑ ุงุฏูู (Superuser):**
    ุจุฑุง ุฏุณุชุฑุณ ุจู ูพูู ุงุฏูู ุฌูฺฏูุ ฺฉ ฺฉุงุฑุจุฑ ุงุฏูู ุจุณุงุฒุฏ:
    ```bash
    docker-compose exec web python manage.py createsuperuser
    ```

ูพุฑูฺู ุดูุง ุงฺฉููู ุขูุงุฏู ุงุณุช!

-   **API ุณุฑูุฑ** ุฏุฑ ุขุฏุฑุณ `http://localhost:8000/` ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.
-   **ูพูู ุงุฏูู** ุฏุฑ ุขุฏุฑุณ `http://localhost:8000/admin/` ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.
-   **ูุณุชูุฏุงุช API (Swagger)** ุฏุฑ ุขุฏุฑุณ `http://localhost:8000/api/schema/swagger-ui/` ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.

### ๐งช ุงุฌุฑุง ุชุณุชโูุง

ุจุฑุง ุงุฌุฑุง ูุฌููุนู ุชุณุชโูุง ูพุฑูฺูุ ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ:
```bash
docker-compose exec web python manage.py test
```